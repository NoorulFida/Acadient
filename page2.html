<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>TimeTrack | Timetable Selector</title>
<link rel="stylesheet" href="styles/style2.css">

<style>
  .date-picker {
    display: flex;
    justify-content: center;
    margin-bottom: 15px;
  }

  .date-picker input {
    padding: 8px 12px;
    font-size: 1rem;
    border-radius: 6px;
    border: 1px solid #ccc;
  }
</style>
</head>

<body>

<!-- ===== LOGIN OPTIONS ===== -->
<div style="display:flex; justify-content:center; gap:20px; margin:30px 0;">
  <button onclick="window.location.href='page3.html'">
    ğŸ‘©â€ğŸ« Teacher Login
  </button>

  <button onclick="window.location.href='page10.html'">
    ğŸ‘¨â€ğŸ“ Student Login
  </button>
</div>

<!-- ===== TIMETABLE SELECTOR ===== -->
<div class="container">
  <h1>Timetable Viewer</h1>

  <!-- âœ… DATE SELECTOR -->
  <div class="date-picker">
    <input type="date" id="selectedDate">
  </div>

  <form id="timetableForm">
    <label>Department</label>
    <select id="Department" required>
      <option value="">Select</option>
      <option value="BSc Computer Science">BSc Computer Science</option>
      <option value="BSc Biotechnology">BSc Biotechnology</option>
      <option value="BA English">BA English</option>
    </select>

    <label>Semester</label>
    <select id="Semester" required>
      <option value="">Select</option>
      <option value="1">Semester 1</option>
      <option value="3">Semester 3</option>
    </select>

    <label>Day</label>
    <select id="Day" required>
      <option value="AUTO">Auto (from date)</option>
      <option value="All">All</option>
      <option value="Monday">Monday</option>
      <option value="Tuesday">Tuesday</option>
      <option value="Wednesday">Wednesday</option>
      <option value="Thursday">Thursday</option>
      <option value="Friday">Friday</option>
    </select>

    <button type="submit">View Timetable</button>
  </form>
</div>


<script>
  // âœ… DEFAULT DATE = TODAY
  const dateInput = document.getElementById("selectedDate");
  const today = new Date().toISOString().split("T")[0];
  dateInput.value = today;

  document.getElementById("timetableForm").addEventListener("submit", e => {
    e.preventDefault();

    let selectedDate = dateInput.value;
    let selectedDay = Day.value;

    if (!selectedDate) {
      alert("Please select a date");
      return;
    }

    // âœ… AUTO DETECT DAY FROM DATE
    if (selectedDay === "AUTO") {
      const dateObj = new Date(selectedDate);
      const days = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
      selectedDay = days[dateObj.getDay()];
    }

    sessionStorage.setItem("data", JSON.stringify({
      department: Department.value,
      semester: Semester.value,
      day: selectedDay,
      date: selectedDate
    }));

    window.location.href = "page9.html";
  });
</script>

</body>
</html>

