<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TimeTrack | Teacher Dashboard</title>
    <link rel="stylesheet" href="styles/style4.css">
    <style>
        /* Attendance circle colors */
        .circle.present {
            background-color: #4CAF50; /* green */
            color: white;
        }

        .circle.absent {
            background-color: #f44336; /* red */
            color: white;
        }
    </style>
</head>

<body>

    <!-- ---------- SIDEBAR ---------- -->
    <div class="sidebar">
    
            <button class="arrow" onclick="location.href='page3.html'">â† Back</button> 
   
        <div class="icon active" data-section="home">ğŸ </div>
        <div class="icon" data-section="notifications">ğŸ””</div>
        <div class="icon" data-section="reports">ğŸ“‹</div>
        <div class="icon" data-section="timetable">ğŸ“…</div>
    </div>

    <!-- ---------- CONTENT ---------- -->
    <div class="content">

        <!-- HOME -->
        <div id="home" class="section active">
            <h2>Available Hours</h2>
            <div class="circle-container">
                <div class="circle" data-hour="1">1</div>
                <div class="circle" data-hour="2">2</div>
                <div class="circle" data-hour="3">3</div>
                <div class="circle" data-hour="4">4</div>
                <div class="circle" data-hour="5">5</div>
            </div>

            <div class="box">
                <label>Academic Updates</label>
                <select onchange="goToPage(this.value)">
                    <option value="">Select an option</option>
                    <option value="assignment">Assignment</option>
                    <option value="seminar">Seminar</option>
                    <option value="exam">Exam</option>
                </select>
            </div>
        </div>

        <!-- NOTIFICATIONS -->
        <div id="notifications" class="section">
            <h2>Notifications</h2>
            <div class="box">
                <div class="notification-item">
                    <p>ğŸ“ Assignment submission tomorrow</p>
                </div>
                <div class="notification-item">
                    <p>ğŸ¤ Seminar scheduled on Friday</p>
                </div>
                <div class="notification-item">
                    <p>ğŸ“Š Exam timetable released</p>
                </div>
            </div>
        </div>

        <!-- REPORTS -->
        <div id="reports" class="section">
            <h2>Reports</h2>
            <div class="box">
                <div class="report-item">
                    <p>ğŸ“Š Attendance Report</p>
                </div>
                <div class="report-item">
                    <p>ğŸ“ˆ Student Performance</p>
                </div>
                <div class="report-item">
                    <p>ğŸ“‰ Exam Analysis</p>
                </div>
            </div>
        </div>

        <!-- TIMETABLE -->
        <div id="timetable" class="section">
            <h2>Timetable</h2>
            <div class="box">
                <button onclick="location.href='create-timetable.html'">
                    â• Create / Edit Timetable
                </button>
            </div>
        </div>

    </div>

    <!-- ---------- SCRIPT ---------- -->
    <script>
        // Sidebar section switch
        const icons = document.querySelectorAll(".icon");
        const sections = document.querySelectorAll(".section");

        icons.forEach(icon => {
            icon.addEventListener("click", () => {
                icons.forEach(i => i.classList.remove("active"));
                icon.classList.add("active");

                sections.forEach(sec => sec.classList.remove("active"));
                document.getElementById(icon.dataset.section).classList.add("active");
            });
        });

        // Dropdown redirect
        function goToPage(value) {
            if (value === "assignment") {
                window.location.href = "page5.html";
            } else if (value === "seminar") {
                window.location.href = "page6.html";
            } else if (value === "exam") {
                window.location.href = "page7.html";
            }
        }

        // ---------- Fixed Attendance Feature ----------
        const circles = document.querySelectorAll(".circle");

        circles.forEach(circle => {
            let clickCount = 0;

            circle.addEventListener("click", () => {
                clickCount++;
                setTimeout(() => {
                    if (clickCount === 1) {
                        // Single click â†’ Present
                        circle.classList.remove("absent");
                        circle.classList.add("present");
                    } else if (clickCount === 2) {
                        // Double click â†’ Absent
                        circle.classList.remove("present");
                        circle.classList.add("absent");
                    }
                    clickCount = 0; // reset counter
                }, 300); // wait 300ms to detect double click
            });
        });

    </script>

</body>

</html>
